openapi: 3.0.3
info:
  title: Phase Agent Staking API
  description: |
    Phase Agent Staking API provides a non-custodial transaction builder service for AI agents to stake SOL tokens on the Solana network. 
    
    The API builds unsigned transactions that agents can review and sign using their own private keys, ensuring non-custodial security.
    
    ## Features
    - **Non-custodial**: Agents maintain control of their private keys
    - **Transaction Building**: Returns unsigned transactions for agent review
    - **Solana Integration**: Native Solana staking support
    - **Rate Limited**: Protects against abuse
    - **Monitored**: Comprehensive metrics and logging
    
    ## Authentication
    All endpoints (except health and docs) require API key authentication via Bearer token:
    ```
    Authorization: Bearer <your-api-key>
    ```
  version: '1.0.0'
  contact:
    name: Phase Labs
    url: https://phase.com
    email: support@phase.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: https://staking-api.phase.com
    description: Production server
  - url: https://staking-api-staging.phase.com
    description: Staging server
  - url: http://localhost:3000
    description: Development server

paths:
  /:
    get:
      summary: API Root
      description: Returns basic API information and available endpoints
      tags:
        - General
      responses:
        '200':
          description: API information
          content:
            application/json:
              schema:
                type: object
                properties:
                  service:
                    type: string
                    example: "Phase Agent Staking API"
                  version:
                    type: string
                    example: "1.0.0"
                  status:
                    type: string
                    example: "running"
                  timestamp:
                    type: string
                    format: date-time
                  environment:
                    type: string
                    example: "production"
                  endpoints:
                    type: object
                    properties:
                      health:
                        type: string
                        example: "/health"
                      docs:
                        type: string
                        example: "/api/docs"
                      stake:
                        type: string
                        example: "/stake/build"

  /health:
    get:
      summary: Comprehensive Health Check
      description: Returns detailed health status including Solana connectivity and configuration validation
      tags:
        - Health
      responses:
        '200':
          description: Health check successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'
        '503':
          description: Service unavailable
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /health/live:
    get:
      summary: Liveness Probe
      description: Simple liveness check for container orchestration
      tags:
        - Health
      responses:
        '200':
          description: Service is alive
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "alive"
                  timestamp:
                    type: string
                    format: date-time

  /health/ready:
    get:
      summary: Readiness Probe
      description: Check if service is ready to handle requests
      tags:
        - Health
      responses:
        '200':
          description: Service is ready
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: "ready"
                  timestamp:
                    type: string
                    format: date-time

  /metrics:
    get:
      summary: Prometheus Metrics
      description: Returns metrics in Prometheus format for monitoring
      tags:
        - Monitoring
      responses:
        '200':
          description: Prometheus metrics
          content:
            text/plain:
              schema:
                type: string
                example: |
                  # HELP http_requests_total Total number of HTTP requests
                  # TYPE http_requests_total counter
                  http_requests_total{route="/health",method="GET",status_code="200"} 42
                  
                  # HELP transaction_build_total Total number of transaction build requests
                  # TYPE transaction_build_total counter
                  transaction_build_total{transaction_type="native_stake",success="true"} 15

  /stake/build:
    post:
      summary: Build Native Staking Transaction
      description: |
        Builds an unsigned transaction for native SOL staking to a validator.
        Returns the transaction for the agent to review and sign.
      tags:
        - Staking
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NativeStakeRequest'
            examples:
              basic:
                summary: Basic staking request
                value:
                  agentWallet: "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"
                  stakeAmount: 1.5
              with_validator:
                summary: Staking to specific validator
                value:
                  agentWallet: "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"
                  stakeAmount: 10.0
                  validatorVoteAccount: "8p1VGE8YZYfYAJaJ9UfZLFjR5jhJhzjzKvVv5HYjLXhm"
      responses:
        '200':
          description: Transaction built successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransactionResponse'
        '400':
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /stake/liquid/build:
    post:
      summary: Build Liquid Staking Transaction (Coming Soon)
      description: |
        Builds an unsigned transaction for liquid staking.
        Currently returns 501 Not Implemented - will be available in Phase 2.
      tags:
        - Staking
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LiquidStakeRequest'
      responses:
        '501':
          description: Not implemented yet
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /unstake/build:
    post:
      summary: Build Unstaking Transaction (Coming Soon)
      description: |
        Builds an unsigned transaction for unstaking SOL.
        Currently returns 501 Not Implemented - will be available in Phase 2.
      tags:
        - Staking
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UnstakeRequest'
      responses:
        '501':
          description: Not implemented yet
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/docs:
    get:
      summary: API Documentation
      description: Interactive API documentation (Swagger UI)
      tags:
        - Documentation
      responses:
        '200':
          description: HTML documentation page
          content:
            text/html:
              schema:
                type: string

  /agents/register:
    post:
      summary: Self-Service Agent Registration
      description: |
        Register a new agent and receive an API key for self-service onboarding.
        This endpoint allows AI agents to autonomously register and obtain API keys
        for enterprise-grade staking operations.
        
        ## Features
        - Self-service registration
        - Automated API key provisioning
        - Configurable tier selection
        - Terms of service validation
        
        **Note**: API keys are only shown once during registration.
      tags:
        - Agent Onboarding
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AgentRegistrationRequest'
            examples:
              basic:
                summary: Basic agent registration
                value:
                  agentName: "Trading Bot Alpha"
                  agentWallet: "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"
                  agreesToTerms: true
              full:
                summary: Full registration with metadata
                value:
                  agentName: "Portfolio Rebalancer"
                  agentWallet: "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"
                  email: "agent@example.com"
                  description: "Automated portfolio rebalancing agent"
                  tier: "pro"
                  agreesToTerms: true
      responses:
        '201':
          description: Agent registered successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AgentRegistrationResponse'
        '400':
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '409':
          description: Agent wallet already registered
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /agents/{wallet}/status:
    get:
      summary: Check Agent Registration Status
      description: |
        Check if an agent wallet is already registered and get registration details.
        Useful for agents to verify their registration status before attempting to register.
      tags:
        - Agent Onboarding
      parameters:
        - name: wallet
          in: path
          required: true
          schema:
            type: string
            pattern: '^[1-9A-HJ-NP-Za-km-z]{32,44}$'
          description: Agent's Solana wallet address
          example: "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"
      responses:
        '200':
          description: Agent status retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AgentStatusResponse'
        '400':
          description: Invalid wallet address
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /validators:
    get:
      summary: List Validators
      description: |
        Get a list of validators with performance metrics and filtering options.
        Supports sorting by various criteria and filtering by performance thresholds.
        
        ## Features
        - Performance-based filtering
        - Multiple sorting options
        - Pagination support
        - Active validator filtering
        
        Use this endpoint to discover validators for staking operations.
      tags:
        - Validators
      parameters:
        - name: sortBy
          in: query
          schema:
            type: string
            enum: [apy, commission, totalStake, uptimePercent, name]
            default: apy
          description: Field to sort by
        - name: order
          in: query
          schema:
            type: string
            enum: [asc, desc]
            default: desc
          description: Sort order
        - name: minApy
          in: query
          schema:
            type: number
            minimum: 0
            maximum: 20
          description: Minimum APY filter
          example: 6.0
        - name: maxCommission
          in: query
          schema:
            type: number
            minimum: 0
            maximum: 100
          description: Maximum commission filter
          example: 8.0
        - name: activeOnly
          in: query
          schema:
            type: string
            enum: [true, false]
            default: "true"
          description: Filter to active validators only
        - name: limit
          in: query
          schema:
            type: string
            pattern: '^\d+$'
            default: "50"
          description: Number of validators per page
        - name: offset
          in: query
          schema:
            type: string
            pattern: '^\d+$'
            default: "0"
          description: Pagination offset
      responses:
        '200':
          description: Validators retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidatorListResponse'
        '400':
          description: Invalid query parameters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /validators/recommend:
    get:
      summary: Get Validator Recommendations
      description: |
        Get personalized validator recommendations based on risk tolerance,
        stake amount, and other preferences. Uses advanced scoring algorithms
        to recommend optimal validators for your staking strategy.
        
        ## Features
        - Risk-adjusted recommendations
        - Diversification analysis
        - Allocation suggestions
        - Customizable criteria
      tags:
        - Validators
      parameters:
        - name: amount
          in: query
          schema:
            type: number
            minimum: 0.01
          description: Stake amount in SOL for allocation calculation
          example: 100.0
        - name: riskTolerance
          in: query
          schema:
            type: string
            enum: [low, medium, high]
            default: medium
          description: Risk tolerance level
        - name: maxCommission
          in: query
          schema:
            type: string
            pattern: '^\d+(\.\d+)?$'
            default: "10"
          description: Maximum acceptable commission rate
          example: "8.0"
        - name: diversify
          in: query
          schema:
            type: string
            enum: [true, false]
            default: "true"
          description: Whether to optimize for diversification
        - name: count
          in: query
          schema:
            type: string
            pattern: '^\d+$'
            default: "3"
          description: Number of recommendations to return
          example: "5"
      responses:
        '200':
          description: Recommendations generated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidatorRecommendationsResponse'
        '400':
          description: Invalid query parameters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /validators/{voteAccount}:
    get:
      summary: Get Validator Details
      description: |
        Get detailed information about a specific validator including
        performance metrics, risk analysis, and recommendation scoring.
        
        Use this endpoint to analyze a validator before staking.
      tags:
        - Validators
      parameters:
        - name: voteAccount
          in: path
          required: true
          schema:
            type: string
            pattern: '^[1-9A-HJ-NP-Za-km-z]{32,44}$'
          description: Validator's vote account address
          example: "7Np41oeYqPefeNQEHSv1UDhYrehxin3NStELsSKCT4K2"
      responses:
        '200':
          description: Validator details retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidatorDetailsResponse'
        '400':
          description: Invalid vote account address
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Validator not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

components:
  securitySchemes:
    ApiKeyAuth:
      type: http
      scheme: bearer
      description: |
        API key authentication using Bearer token.
        Include your API key in the Authorization header:
        `Authorization: Bearer <your-api-key>`

  schemas:
    HealthResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
          properties:
            status:
              type: string
              enum: [healthy, degraded, unhealthy]
              example: "healthy"
            timestamp:
              type: string
              format: date-time
            version:
              type: string
              example: "1.0.0"
            environment:
              type: string
              example: "production"
            uptime:
              type: number
              description: Uptime in seconds
              example: 3661.234
            checks:
              type: object
              properties:
                solana:
                  type: object
                  properties:
                    healthy:
                      type: boolean
                    cluster:
                      type: string
                      example: "mainnet-beta"
                    latency:
                      type: number
                      description: RPC latency in milliseconds
                      example: 42
                api:
                  type: object
                  properties:
                    healthy:
                      type: boolean
                    uptime:
                      type: number
                    memory:
                      type: object
                      properties:
                        used:
                          type: number
                        total:
                          type: number
                config:
                  type: object
                  properties:
                    healthy:
                      type: boolean
                    rpcUrl:
                      type: string
                    validatorConfigured:
                      type: boolean
                    feeWalletConfigured:
                      type: boolean

    NativeStakeRequest:
      type: object
      required:
        - agentWallet
        - stakeAmount
      properties:
        agentWallet:
          type: string
          description: Agent's Solana wallet public key (base58 encoded)
          pattern: '^[1-9A-HJ-NP-Za-km-z]{32,44}$'
          example: "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"
        stakeAmount:
          type: number
          description: Amount of SOL to stake (minimum 0.01 SOL)
          minimum: 0.01
          maximum: 1000
          example: 1.5
        validatorVoteAccount:
          type: string
          description: Validator vote account (optional, defaults to Phase validator)
          pattern: '^[1-9A-HJ-NP-Za-km-z]{32,44}$'
          example: "8p1VGE8YZYfYAJaJ9UfZLFjR5jhJhzjzKvVv5HYjLXhm"

    LiquidStakeRequest:
      type: object
      required:
        - agentWallet
        - amount
      properties:
        agentWallet:
          type: string
          description: Agent's Solana wallet public key
          example: "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"
        amount:
          type: number
          description: Amount of SOL to liquid stake
          example: 1.5

    UnstakeRequest:
      type: object
      required:
        - agentWallet
        - stakeAccount
      properties:
        agentWallet:
          type: string
          description: Agent's Solana wallet public key
          example: "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"
        stakeAccount:
          type: string
          description: Stake account to unstake from
          example: "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM"

    TransactionResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
          properties:
            transaction:
              type: object
              description: Unsigned transaction object
              properties:
                instructions:
                  type: array
                  description: Array of transaction instructions
                  items:
                    type: object
                recentBlockhash:
                  type: string
                  description: Recent blockhash
                  example: "EkSnNWid2cvwEVnVx9aBqawnmiCNiDgp3gUdkDPTKN1N"
                feePayer:
                  type: string
                  description: Fee payer public key
                  example: "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"
            metadata:
              type: object
              properties:
                stakeAccount:
                  type: string
                  description: Generated stake account public key
                  example: "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM"
                validator:
                  type: string
                  description: Validator vote account
                  example: "8p1VGE8YZYfYAJaJ9UfZLFjR5jhJhzjzKvVv5HYjLXhm"
                estimatedApy:
                  type: number
                  description: Estimated annual percentage yield
                  example: 7.2
                fees:
                  type: object
                  properties:
                    transactionFee:
                      type: number
                      description: Transaction fee in lamports
                      example: 5000
                    rakeFee:
                      type: number
                      description: Phase rake fee in lamports
                      example: 1000000
        timestamp:
          type: string
          format: date-time

    ErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: object
          properties:
            code:
              type: string
              description: Error code
              enum:
                - VALIDATION_ERROR
                - INVALID_API_KEY
                - INSUFFICIENT_BALANCE
                - SOLANA_RPC_ERROR
                - NOT_IMPLEMENTED
                - INTERNAL_ERROR
              example: "VALIDATION_ERROR"
            message:
              type: string
              description: Human readable error message
              example: "Invalid agent wallet address"
            details:
              type: object
              description: Additional error details (optional)
        timestamp:
          type: string
          format: date-time

    AgentRegistrationRequest:
      type: object
      required:
        - agentName
        - agentWallet
        - agreesToTerms
      properties:
        agentName:
          type: string
          minLength: 3
          maxLength: 50
          pattern: '^[a-zA-Z0-9 _-]+$'
          description: Agent name (3-50 characters, alphanumeric with spaces, hyphens, underscores)
          example: "Trading Bot Alpha"
        agentWallet:
          type: string
          pattern: '^[1-9A-HJ-NP-Za-km-z]{32,44}$'
          description: Agent's Solana wallet public key (base58 encoded)
          example: "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"
        email:
          type: string
          format: email
          description: Contact email (optional)
          example: "agent@example.com"
        description:
          type: string
          maxLength: 200
          description: Agent description (optional, max 200 characters)
          example: "Automated portfolio rebalancing agent"
        tier:
          type: string
          enum: [free, pro, enterprise]
          default: free
          description: API tier (defaults to free)
          example: "pro"
        agreesToTerms:
          type: boolean
          enum: [true]
          description: Must agree to terms of service
          example: true

    AgentRegistrationResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
          properties:
            agentId:
              type: string
              description: Unique agent identifier
              example: "550e8400-e29b-41d4-a716-446655440000"
            apiKey:
              type: string
              description: API key (only shown once)
              example: "ak_1234567890abcdef1234567890abcdef12345678"
            tier:
              type: string
              enum: [free, pro, enterprise]
              description: API tier
              example: "pro"
            registeredAt:
              type: string
              format: date-time
              description: Registration timestamp
            message:
              type: string
              description: Welcome message
              example: "Welcome Trading Bot Alpha! Your agent has been successfully registered."
        timestamp:
          type: string
          format: date-time

    AgentStatusResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
          properties:
            registered:
              type: boolean
              description: Whether the agent wallet is registered
              example: true
            agentId:
              type: string
              description: Agent identifier (if registered)
              example: "550e8400-e29b-41d4-a716-446655440000"
            tier:
              type: string
              enum: [free, pro, enterprise]
              description: API tier (if registered)
              example: "pro"
            registeredAt:
              type: string
              format: date-time
              description: Registration timestamp (if registered)
            lastUsed:
              type: string
              format: date-time
              description: Last API key usage (if available)
            isActive:
              type: boolean
              description: Whether the API key is active (if registered)
              example: true
            message:
              type: string
              description: Status message
              example: "Agent registered"
        timestamp:
          type: string
          format: date-time

    ValidatorInfo:
      type: object
      properties:
        voteAccount:
          type: string
          description: Validator vote account address
          example: "7Np41oeYqPefeNQEHSv1UDhYrehxin3NStELsSKCT4K2"
        identityAccount:
          type: string
          description: Validator identity account address
          example: "GrDMoYLkXX9JSFiHwNYRLFXnJY8RjGhLzVe7vL2q9MDZ"
        name:
          type: string
          description: Validator name
          example: "Phase Labs Validator"
        website:
          type: string
          description: Validator website
          example: "https://phaselabs.io"
        details:
          type: string
          description: Validator description
          example: "High-performance validator with MEV protection"
        commission:
          type: number
          description: Commission rate percentage
          example: 5.0
        apy:
          type: number
          description: Annual percentage yield
          example: 7.2
        totalStake:
          type: number
          description: Total stake in lamports
          example: 50000000000000
        activeStake:
          type: number
          description: Active stake in lamports
          example: 48500000000000
        dataCenter:
          type: string
          description: Data center location
          example: "US-East"
        country:
          type: string
          description: Country location
          example: "United States"
        isActive:
          type: boolean
          description: Whether validator is active
          example: true
        isDelinquent:
          type: boolean
          description: Whether validator is delinquent
          example: false
        skippedSlots:
          type: integer
          description: Number of skipped slots
          example: 12
        lastVote:
          type: integer
          description: Last vote slot number
          example: 245780123
        performance:
          type: object
          properties:
            skipRate:
              type: number
              description: Skip rate percentage
              example: 0.05
            uptimePercent:
              type: number
              description: Uptime percentage
              example: 99.95
            epochsActive:
              type: integer
              description: Number of epochs active
              example: 450
        features:
          type: array
          items:
            type: string
          description: Validator features
          example: ["MEV Protection", "Auto-updates", "Monitoring"]

    ValidatorListResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
          properties:
            validators:
              type: array
              items:
                $ref: '#/components/schemas/ValidatorInfo'
            pagination:
              type: object
              properties:
                total:
                  type: integer
                  example: 150
                limit:
                  type: integer
                  example: 50
                offset:
                  type: integer
                  example: 0
                hasMore:
                  type: boolean
                  example: true
            filters:
              type: object
              properties:
                sortBy:
                  type: string
                  example: "apy"
                order:
                  type: string
                  example: "desc"
                minApy:
                  type: number
                  example: 6.0
                maxCommission:
                  type: number
                  example: 10.0
                activeOnly:
                  type: boolean
                  example: true
        timestamp:
          type: string
          format: date-time

    ValidatorRecommendation:
      type: object
      properties:
        voteAccount:
          type: string
          example: "7Np41oeYqPefeNQEHSv1UDhYrehxin3NStELsSKCT4K2"
        name:
          type: string
          example: "Phase Labs Validator"
        apy:
          type: number
          example: 7.2
        commission:
          type: number
          example: 5.0
        score:
          type: number
          description: Recommendation score (0-100)
          example: 85.5
        riskLevel:
          type: string
          enum: [low, medium, high]
          example: "low"
        reason:
          type: string
          description: Explanation for recommendation
          example: "Recommended for high APY, low commission, excellent uptime"
        suggestedAllocation:
          type: number
          description: Suggested stake allocation in SOL
          example: 33.33

    ValidatorRecommendationsResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
          properties:
            recommendations:
              type: array
              items:
                $ref: '#/components/schemas/ValidatorRecommendation'
            criteria:
              type: object
              properties:
                riskTolerance:
                  type: string
                  example: "medium"
                maxCommission:
                  type: number
                  example: 10.0
                diversify:
                  type: boolean
                  example: true
                stakeAmount:
                  type: number
                  example: 100.0
            totalValidators:
              type: integer
              description: Total validators considered
              example: 150
        timestamp:
          type: string
          format: date-time

    ValidatorDetailsResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
          properties:
            validator:
              $ref: '#/components/schemas/ValidatorInfo'
            recommendationScore:
              type: number
              description: Recommendation score (0-100)
              example: 85.5
            riskFactors:
              type: array
              items:
                type: string
              description: Identified risk factors
              example: ["High commission rate"]
        timestamp:
          type: string
          format: date-time

tags:
  - name: General
    description: General API information
  - name: Health
    description: Health check endpoints
  - name: Monitoring
    description: Monitoring and metrics
  - name: Agent Onboarding
    description: Self-service agent registration and status endpoints
  - name: Validators
    description: Validator discovery, performance metrics, and recommendations
  - name: Staking
    description: Staking transaction building
  - name: Documentation
    description: API documentation

externalDocs:
  description: Phase Labs Documentation
  url: https://docs.phase.com